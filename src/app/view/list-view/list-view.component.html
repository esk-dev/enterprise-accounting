<section class="list">
  <h1>Главные организации</h1>
  <ng-container *ngIf="enterprises$ | async as data">
    <div class="list-header">
      <span class="column">Полное наименование организации</span>
      <span class="column">Краткое наименование организации</span>
      <span class="column">ИНН</span>
      <span class="column">КПП</span>
      <span class="column">Учредитель</span>
      <span class="column">Адрес</span>
      <span class="column">Номер телефона</span>
      <span *appRole class="spacer column"></span>
    </div>

    <ng-container *ngFor="let item of data.mainEnterprises; trackBy: trackById">
      <div class="list-item-row">
        <span class="column">{{ item.fullName }}</span>
        <span class="column">{{ item.shortName }}</span>
        <span class="column">{{ item.INN }}</span>
        <span class="column">{{ item.KPP }}</span>
        <span class="column">{{ item.founder }}</span>
        <span class="column">{{ item.addres }}</span>
        <span class="column">{{ item.phone }}</span>
        <div class="column row-action">
          <a
            *appRole
            [routerLink]="['/edit', item._id]"
            mat-icon-button
            class="column row-action"
            color="primary"
            ><mat-icon mat-list-icon>mode_edit</mat-icon></a
          >
        </div>
      </div>
    </ng-container>
    <div class="add-item">
      <a *appRole [routerLink]="['/create/main-enterprise']" mat-flat-button color="primary"
        >Добавить <mat-icon mat-list-icon>add</mat-icon></a
      >
    </div>

    <mat-divider></mat-divider>
    <h1>Филиалы</h1>

    <div class="list-header">
      <span class="column">Адрес офиса</span>
      <span class="column">Номер телефона</span>
      <span class="column">Представитель</span>
      <span *appRole class="spacer column"></span>
    </div>

    <ng-container *ngFor="let item of data.subEnterprises; trackBy: trackById">
      <div class="list-item-row">
        <span class="column">{{ item.officeAdress }}</span>
        <span class="column">{{ item.phone }}</span>
        <span class="column">{{ item.official }}</span>
        <div class="column row-action">
          <a *appRole [routerLink]="['/edit', item._id]" mat-icon-button color="primary"
            ><mat-icon mat-list-icon>mode_edit</mat-icon></a
          >
        </div>
      </div>
    </ng-container>
    <div class="add-item">
      <a *appRole [routerLink]="['/create/sub-enterprise']" mat-flat-button color="primary"
        >Добавить <mat-icon mat-list-icon>add</mat-icon></a
      >
    </div>
  </ng-container>
</section>
